<!DOCTYPE html>
<html lang="en"
      data-bs-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <title>Theme Preview - Bootstrap 5.3.8</title>

    <!-- Original Framework -->
    <link rel="stylesheet"
          href="bs/bootstrap-5.3.8.css">

    <!-- UI Config (Global knobs for opacity/blur) -->
    <link rel="stylesheet"
          href="bs/ui-config.css">

    <!-- Theme placeholder (will be swapped by specific files) -->
    <link id="themeStylesheet"
          rel="stylesheet"
          href="bs/herbst-theme.css">

    <!-- Component Overrides (Apply variables to components) -->
    <link rel="stylesheet"
          href="bs/bootstrap-overrides.css">

    <!-- Bootstrap JS Bundle (for interactive components: modal, toast, dropdown, etc.) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        html {
            overflow-x: hidden;
        }

        body {
            padding: 1rem;
            min-height: 100vh;
            overflow-x: hidden;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0.8;
            z-index: -1;
            transition: background-image 0.5s ease-in-out;
        }

        .content-wrapper {
            padding: 1rem;
            max-width: 1200px;
            margin: auto;
            margin-bottom: 5rem;
            overflow-x: hidden;
        }

        .component-section {
            margin-bottom: 3rem;
            padding: 1rem;
            border-radius: 1rem;
            overflow-x: auto;
        }

        /* Static offcanvas: constrain to container width */
        .offcanvas.position-static {
            width: 100% !important;
            max-width: 400px;
        }

        /* Static modal: prevent overflow on narrow screens */
        .modal.position-static .modal-dialog {
            max-width: 100%;
            margin-left: 0;
            margin-right: 0;
        }

        /* Tame giant display headings on mobile */
        .display-1, .display-4, .display-6 {
            overflow-wrap: break-word;
            word-break: break-word;
        }

        @media (min-width: 768px) {
            body {
                padding: 2rem;
            }
            .content-wrapper {
                padding: 2rem;
            }
            .component-section {
                padding: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <div class="content-wrapper card">
        <div class="mb-4">
            <h1 id="themeTitle" class="mb-3">Theme Preview</h1>
            <div class="d-flex flex-wrap gap-3 align-items-center">
                <div class="d-flex align-items-center gap-2">
                    <label class="small text-nowrap">Glass Opacity:</label>
                    <input type="range"
                           id="opacityRange"
                           class="form-range"
                           min="0"
                           max="1"
                           step="0.05"
                           value="0.3"
                           style="width: 100px;">
                </div>
                <div class="d-flex align-items-center gap-2">
                    <label class="small text-nowrap">Blur:</label>
                    <input type="range"
                           id="blurRange"
                           class="form-range"
                           min="0"
                           max="20"
                           step="1"
                           value="8"
                           style="width: 100px;">
                </div>
                <select id="themeSelect"
                        class="form-select w-auto">
                    <option value="herbst">Autumn</option>
                    <option value="krokus">Spring</option>
                    <option value="sommer">Summer</option>
                    <option value="loewe">Dandelion</option>
                    <option value="urania">Urania</option>
                    <option value="wave">Welle</option>
                    <option value="lego">Lego</option>
                    <option value="alien">Alien Skyline</option>
                </select>
                <button id="themeToggle"
                        class="btn btn-outline-primary">Toggle Dark Mode</button>
            </div>
        </div>

        <!-- BUTTONS SECTION -->
        <section class="component-section border">
            <h3>Buttons & Button Groups</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <h5>Solid Buttons</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <button class="btn btn-primary">Primary</button>
                        <button class="btn btn-secondary">Secondary</button>
                        <button class="btn btn-success">Success</button>
                        <button class="btn btn-info">Info</button>
                        <button class="btn btn-warning">Warning</button>
                        <button class="btn btn-danger">Danger</button>
                        <button class="btn btn-light text-dark">Light</button>
                        <button class="btn btn-dark">Dark</button>
                        <button class="btn btn-link">Link</button>
                    </div>
                </div>
                <div class="col-md-6">
                    <h5>Outline Buttons</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <button class="btn btn-outline-primary">Primary</button>
                        <button class="btn btn-outline-secondary">Secondary</button>
                        <button class="btn btn-outline-success">Success</button>
                        <button class="btn btn-outline-info">Info</button>
                        <button class="btn btn-outline-warning">Warning</button>
                        <button class="btn btn-outline-danger">Danger</button>
                    </div>
                </div>
                <div class="col-12 mt-3">
                    <h5>Button Groups & Sizing</h5>
                    <div class="btn-group me-2"
                         role="group">
                        <button type="button"
                                class="btn btn-primary">Left</button>
                        <button type="button"
                                class="btn btn-primary">Middle</button>
                        <button type="button"
                                class="btn btn-primary">Right</button>
                    </div>
                    <button class="btn btn-primary btn-lg">Large</button>
                    <button class="btn btn-primary btn-sm">Small</button>
                </div>
            </div>
        </section>

        <!-- ALERTS & BADGES SECTION -->
        <section class="component-section border">
            <div class="row">
                <div class="col-md-8">
                    <h3>Alerts (WCAG AAA Contrast Test)</h3>
                    <div class="alert alert-primary alert-dismissible fade show"
                         role="alert">
                        <strong>Primary!</strong> This alert should be readable and AAA compliant on glass.
                        <button type="button"
                                class="btn-close"
                                data-bs-dismiss="alert"></button>
                    </div>
                    <div class="alert alert-success"
                         role="alert">
                        <strong>Success!</strong> Testing dark theme text contrast.
                    </div>
                    <div class="alert alert-warning"
                         role="alert">
                        <strong>Warning!</strong> Check the emphasis color contrast.
                    </div>
                    <div class="alert alert-danger"
                         role="alert">
                        <strong>Danger!</strong> High visibility required here.
                    </div>
                    <div class="alert alert-info"
                         role="alert">
                        <strong>Info!</strong> Glassmorphism opacity test.
                    </div>
                    <div class="alert alert-secondary"
                         role="alert">
                        <strong>Secondary!</strong> Subdued emphasis alert.
                    </div>
                    <div class="alert alert-light"
                         role="alert">
                        <strong>Light!</strong> Light background alert variant.
                    </div>
                    <div class="alert alert-dark"
                         role="alert">
                        <strong>Dark!</strong> Dark background alert variant.
                    </div>
                </div>
                <div class="col-md-4">
                    <h3>Badges</h3>
                    <div class="d-flex flex-wrap gap-2 mb-3">
                        <span class="badge text-bg-primary">Primary</span>
                        <span class="badge text-bg-secondary">Secondary</span>
                        <span class="badge text-bg-success">Success</span>
                        <span class="badge text-bg-danger">Danger</span>
                        <span class="badge text-bg-warning">Warning</span>
                        <span class="badge text-bg-info">Info</span>
                        <span class="badge text-bg-light">Light</span>
                        <span class="badge text-bg-dark">Dark</span>
                    </div>
                    <h5>Pill Badges</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <span class="badge rounded-pill text-bg-primary">1</span>
                        <span class="badge rounded-pill text-bg-success">99+</span>
                        <span class="badge rounded-pill text-bg-info">New</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- CARDS SECTION -->
        <section class="component-section border">
            <h3>Cards & Glassmorphism</h3>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card h-100">
                        <div class="card-header text-bg-primary">Default Header</div>
                        <div class="card-body">
                            <h5 class="card-title">Card Title</h5>
                            <p class="card-text">Standard card content with themed background and glass effect.</p>
                            <a href="#"
                               class="btn btn-primary">Action</a>
                        </div>
                        <div class="card-footer text-body-secondary">2 days ago</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card text-bg-primary h-100 border-0">
                        <div class="card-header border-bottom border-white border-opacity-25">Primary Color Card</div>
                        <div class="card-body">
                            <p class="card-text">Testing text contrast on primary color backgrounds.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 border-success">
                        <div class="card-body">
                            <h5 class="card-title text-success">Bordered Success</h5>
                            <p class="card-text">Testing how theme colors apply to borders and headings.</p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item bg-transparent">List Item 1</li>
                                <li class="list-group-item bg-transparent">List Item 2</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FORMS SECTION -->
        <section class="component-section border">
            <h3>Forms & Inputs</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">Text Input (Focus Test)</label>
                        <input type="text"
                               class="form-control"
                               placeholder="Focus me to see ring color">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Select Menu</label>
                        <select class="form-select">
                            <option selected>Open this select menu</option>
                            <option value="1">One</option>
                            <option value="2">Two</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Range</label>
                        <input type="range"
                               class="form-range"
                               id="customRange2">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-check mb-2">
                        <input class="form-check-input"
                               type="checkbox"
                               value=""
                               id="flexCheckChecked"
                               checked>
                        <label class="form-check-label"
                               for="flexCheckChecked">Checked checkbox</label>
                    </div>
                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input"
                               type="checkbox"
                               role="switch"
                               id="flexSwitchCheckDefault"
                               checked>
                        <label class="form-check-label"
                               for="flexSwitchCheckDefault">Checked switch</label>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text"
                              id="basic-addon1">@</span>
                        <input type="text"
                               class="form-control"
                               placeholder="Username">
                    </div>
                    <div class="input-group">
                        <input type="text"
                               class="form-control"
                               placeholder="Recipient's username">
                        <button class="btn btn-outline-secondary"
                                type="button">Button</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- TABLES SECTION -->
        <section class="component-section border">
            <h3>Tables</h3>
            <div class="table-responsive">
                <table class="table table-striped table-hover align-middle">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Sample Heading</th>
                            <th>Status</th>
                            <th>Progress</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="table-primary">
                            <td>Primary</td>
                            <td>Themed background</td>
                            <td><span class="badge text-bg-primary">Active</span></td>
                            <td>
                                <div class="progress"
                                     role="progressbar"
                                     style="height: 10px">
                                    <div class="progress-bar"
                                         style="width: 25%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr class="table-success">
                            <td>Success</td>
                            <td>Positive result</td>
                            <td><span class="badge text-bg-success">Done</span></td>
                            <td>
                                <div class="progress"
                                     role="progressbar"
                                     style="height: 10px">
                                    <div class="progress-bar bg-success"
                                         style="width: 100%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr class="table-warning">
                            <td>Warning</td>
                            <td>Action required</td>
                            <td><span class="badge text-bg-warning">Pending</span></td>
                            <td>
                                <div class="progress"
                                     role="progressbar"
                                     style="height: 10px">
                                    <div class="progress-bar bg-warning"
                                         style="width: 60%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr class="table-danger">
                            <td>Danger</td>
                            <td>Critical failure</td>
                            <td><span class="badge text-bg-danger">Error</span></td>
                            <td>
                                <div class="progress"
                                     role="progressbar"
                                     style="height: 10px">
                                    <div class="progress-bar bg-danger"
                                         style="width: 85%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr class="table-info">
                            <td>Info</td>
                            <td>General info</td>
                            <td><span class="badge text-bg-info">Help</span></td>
                            <td>
                                <div class="progress"
                                     role="progressbar"
                                     style="height: 10px">
                                    <div class="progress-bar bg-info"
                                         style="width: 45%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr class="table-secondary">
                            <td>Secondary</td>
                            <td>Muted emphasis</td>
                            <td><span class="badge text-bg-secondary">Note</span></td>
                            <td>
                                <div class="progress"
                                     role="progressbar"
                                     style="height: 10px">
                                    <div class="progress-bar bg-secondary"
                                         style="width: 30%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr class="table-light">
                            <td>Light</td>
                            <td>Light row variant</td>
                            <td><span class="badge text-bg-light">Dim</span></td>
                            <td>
                                <div class="progress"
                                     role="progressbar"
                                     style="height: 10px">
                                    <div class="progress-bar bg-dark"
                                         style="width: 10%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr class="table-dark">
                            <td>Dark</td>
                            <td>Dark row variant</td>
                            <td><span class="badge text-bg-dark">Inv</span></td>
                            <td>
                                <div class="progress"
                                     role="progressbar"
                                     style="height: 10px">
                                    <div class="progress-bar bg-light"
                                         style="width: 50%"></div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- NAVS & TABS SECTION -->
        <section class="component-section border">
            <h3>Navs, Tabs & Pagination</h3>

            <h5>Nav Pills</h5>
            <ul class="nav nav-pills mb-3"
                id="pills-tab"
                role="tablist">
                <li class="nav-item"
                    role="presentation">
                    <button class="nav-link active"
                            id="pills-home-tab"
                            data-bs-toggle="pill"
                            type="button">Active Pill</button>
                </li>
                <li class="nav-item"
                    role="presentation">
                    <button class="nav-link"
                            id="pills-profile-tab"
                            data-bs-toggle="pill"
                            type="button">Normal Pill</button>
                </li>
                <li class="nav-item"
                    role="presentation">
                    <button class="nav-link disabled"
                            type="button"
                            disabled>Disabled</button>
                </li>
            </ul>

            <h5>Nav Tabs</h5>
            <ul class="nav nav-tabs mb-3">
                <li class="nav-item">
                    <a class="nav-link active"
                       href="#">Active</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"
                       href="#">Link</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"
                       href="#">Another</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled"
                       href="#"
                       tabindex="-1">Disabled</a>
                </li>
            </ul>

            <h5>Nav Underline</h5>
            <ul class="nav nav-underline mb-4">
                <li class="nav-item">
                    <a class="nav-link active"
                       href="#">Active</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"
                       href="#">Link</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled"
                       href="#"
                       tabindex="-1">Disabled</a>
                </li>
            </ul>

            <h5>Breadcrumb</h5>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item"><a href="#">Library</a></li>
                    <li class="breadcrumb-item active text-body"
                        aria-current="page">Data</li>
                </ol>
            </nav>

            <h5>Pagination</h5>
            <nav>
                <ul class="pagination">
                    <li class="page-item disabled"><a class="page-link">Previous</a></li>
                    <li class="page-item"><a class="page-link"
                           href="#">1</a></li>
                    <li class="page-item active"><a class="page-link"
                           href="#">2</a></li>
                    <li class="page-item"><a class="page-link"
                           href="#">3</a></li>
                    <li class="page-item"><a class="page-link"
                           href="#">Next</a></li>
                </ul>
            </nav>
        </section>

        <!-- ACCORDION SECTION -->
        <section class="component-section border">
            <h3>Accordion</h3>
            <div class="accordion"
                 id="demoAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#collapseOne"
                                aria-expanded="true"
                                aria-controls="collapseOne">
                            Accordion Item #1 (expanded)
                        </button>
                    </h2>
                    <div id="collapseOne"
                         class="accordion-collapse collapse show"
                         data-bs-parent="#demoAccordion">
                        <div class="accordion-body">
                            This is the first item's accordion body. It is shown by default to test the expanded state styling, including background
                            color, border, and text contrast.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#collapseTwo"
                                aria-expanded="false"
                                aria-controls="collapseTwo">
                            Accordion Item #2 (collapsed)
                        </button>
                    </h2>
                    <div id="collapseTwo"
                         class="accordion-collapse collapse"
                         data-bs-parent="#demoAccordion">
                        <div class="accordion-body">
                            This is the second item's accordion body. It tests the collapsed state toggle button styling.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#collapseThree"
                                aria-expanded="false"
                                aria-controls="collapseThree">
                            Accordion Item #3 (collapsed)
                        </button>
                    </h2>
                    <div id="collapseThree"
                         class="accordion-collapse collapse"
                         data-bs-parent="#demoAccordion">
                        <div class="accordion-body">
                            Third item body content.
                        </div>
                    </div>
                </div>
            </div>

            <h5 class="mt-4">Accordion Flush</h5>
            <div class="accordion accordion-flush"
                 id="demoAccordionFlush">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#flush-collapseOne"
                                aria-expanded="false">
                            Flush Item #1
                        </button>
                    </h2>
                    <div id="flush-collapseOne"
                         class="accordion-collapse collapse"
                         data-bs-parent="#demoAccordionFlush">
                        <div class="accordion-body">Flush accordion removes borders and rounded corners for edge-to-edge display.</div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#flush-collapseTwo"
                                aria-expanded="false">
                            Flush Item #2
                        </button>
                    </h2>
                    <div id="flush-collapseTwo"
                         class="accordion-collapse collapse"
                         data-bs-parent="#demoAccordionFlush">
                        <div class="accordion-body">Second flush item body.</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- NAVBAR SECTION -->
        <section class="component-section border">
            <h3>Navbar</h3>
            <nav class="navbar navbar-expand-lg bg-body-tertiary rounded mb-3">
                <div class="container-fluid">
                    <a class="navbar-brand"
                       href="#">Brand</a>
                    <button class="navbar-toggler"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#navbarDemo">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse show"
                         id="navbarDemo">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link active"
                                   aria-current="page"
                                   href="#">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link"
                                   href="#">Features</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link disabled"
                                   href="#"
                                   tabindex="-1">Disabled</a>
                            </li>
                        </ul>
                        <form class="d-flex"
                              role="search">
                            <input class="form-control me-2"
                                   type="search"
                                   placeholder="Search">
                            <button class="btn btn-outline-success"
                                    type="submit">Search</button>
                        </form>
                    </div>
                </div>
            </nav>
        </section>

        <!-- DROPDOWN SECTION -->
        <section class="component-section border">
            <h3>Dropdowns</h3>
            <div class="row g-3">
                <div class="col-md-4">
                    <h5>Standard Dropdown</h5>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle"
                                type="button"
                                data-bs-toggle="dropdown"
                                aria-expanded="true">
                            Dropdown button
                        </button>
                        <ul class="dropdown-menu show"
                            style="position: static; display: block;">
                            <li><span class="dropdown-item-text fw-bold">Menu</span></li>
                            <li><a class="dropdown-item active"
                                   href="#">Active item</a></li>
                            <li><a class="dropdown-item"
                                   href="#">Normal item</a></li>
                            <li><a class="dropdown-item disabled"
                                   href="#"
                                   tabindex="-1">Disabled item</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item"
                                   href="#">Separated link</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5>Dropdown on Dark</h5>
                    <div class="p-3 bg-dark rounded"
                         data-bs-theme="dark">
                        <ul class="dropdown-menu show"
                            style="position: static; display: block;">
                            <li><span class="dropdown-item-text fw-bold">Menu</span></li>
                            <li><a class="dropdown-item active"
                                   href="#">Active</a></li>
                            <li><a class="dropdown-item"
                                   href="#">Regular</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item"
                                   href="#">Separated</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5>Split Button</h5>
                    <div class="btn-group">
                        <button type="button"
                                class="btn btn-danger">Action</button>
                        <button type="button"
                                class="btn btn-danger dropdown-toggle dropdown-toggle-split"
                                data-bs-toggle="dropdown">
                            <span class="visually-hidden">Toggle</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item"
                                   href="#">Option 1</a></li>
                            <li><a class="dropdown-item"
                                   href="#">Option 2</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- LIST GROUP SECTION -->
        <section class="component-section border">
            <h3>List Group</h3>
            <div class="row g-3">
                <div class="col-md-4">
                    <h5>Basic</h5>
                    <ul class="list-group">
                        <li class="list-group-item">First item</li>
                        <li class="list-group-item">Second item</li>
                        <li class="list-group-item">Third item</li>
                    </ul>
                </div>
                <div class="col-md-8">
                    <h5>Colored Variants</h5>
                    <ul class="list-group">
                        <li class="list-group-item list-group-item-primary">Primary list item</li>
                        <li class="list-group-item list-group-item-secondary">Secondary list item</li>
                        <li class="list-group-item list-group-item-success">Success list item</li>
                        <li class="list-group-item list-group-item-danger">Danger list item</li>
                        <li class="list-group-item list-group-item-warning">Warning list item</li>
                        <li class="list-group-item list-group-item-info">Info list item</li>
                        <li class="list-group-item list-group-item-light">Light list item</li>
                        <li class="list-group-item list-group-item-dark">Dark list item</li>
                    </ul>
                </div>
            </div>
            <div class="row g-3 mt-2">
                <div class="col-md-6">
                    <h5>Actionable (links)</h5>
                    <div class="list-group">
                        <a href="#"
                           class="list-group-item list-group-item-action text-body">First action</a>
                        <a href="#"
                           class="list-group-item list-group-item-action text-body">Second action</a>
                        <a href="#"
                           class="list-group-item list-group-item-action text-body">Third action</a>
                    </div>
                </div>
                <div class="col-md-6">
                    <h5>With badges</h5>
                    <ul class="list-group">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Inbox
                            <span class="badge text-bg-primary rounded-pill">14</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Updates
                            <span class="badge text-bg-primary rounded-pill">2</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Spam
                            <span class="badge text-bg-danger rounded-pill">99+</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- MODAL SECTION -->
        <section class="component-section border">
            <h3>Modal (static demo)</h3>
            <div class="modal position-static d-block"
                 tabindex="-1"
                 style="z-index: 1;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Modal Title</h5>
                            <button type="button"
                                    class="btn-close"
                                    data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>This is a statically rendered modal for theme preview. It tests the modal header, body, footer, and close button
                                styling.</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button"
                                    class="btn btn-secondary"
                                    data-bs-dismiss="modal">Close</button>
                            <button type="button"
                                    class="btn btn-primary">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TOAST SECTION -->
        <section class="component-section border">
            <h3>Toasts</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="toast show"
                         role="alert"
                         aria-live="assertive"
                         aria-atomic="true">
                        <div class="toast-header">
                            <strong class="me-auto text-body">Default Toast</strong>
                            <small class="text-body">just now</small>
                            <button type="button"
                                    class="btn-close"
                                    data-bs-dismiss="toast"
                                    aria-label="Close"></button>
                        </div>
                        <div class="toast-body">
                            This is a toast message with header and body.
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="d-flex flex-column gap-2">
                        <div class="toast show align-items-center text-bg-primary border-0"
                             role="alert">
                            <div class="d-flex">
                                <div class="toast-body">Primary color toast.</div>
                                <button type="button"
                                        class="btn-close btn-close-white me-2 m-auto"
                                        data-bs-dismiss="toast"></button>
                            </div>
                        </div>
                        <div class="toast show align-items-center text-bg-success border-0"
                             role="alert">
                            <div class="d-flex">
                                <div class="toast-body">Success color toast.</div>
                                <button type="button"
                                        class="btn-close btn-close-white me-2 m-auto"
                                        data-bs-dismiss="toast"></button>
                            </div>
                        </div>
                        <div class="toast show align-items-center text-bg-danger border-0"
                             role="alert">
                            <div class="d-flex">
                                <div class="toast-body">Danger color toast.</div>
                                <button type="button"
                                        class="btn-close btn-close-white me-2 m-auto"
                                        data-bs-dismiss="toast"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- OFFCANVAS SECTION -->
        <section class="component-section border">
            <h3>Offcanvas (static demo)</h3>
            <div class="offcanvas offcanvas-start position-static d-block"
                 tabindex="-1"
                 style="visibility: visible; transform: none;">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title">Offcanvas Title</h5>
                    <button type="button"
                            class="btn-close"
                            data-bs-dismiss="offcanvas"
                            aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <p>This offcanvas is rendered statically to test the header, body, and close button styling within the theme.</p>
                    <div class="dropdown mt-3">
                        <button class="btn btn-secondary dropdown-toggle"
                                type="button"
                                data-bs-toggle="dropdown">
                            Nested Dropdown
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item"
                                   href="#">Action</a></li>
                            <li><a class="dropdown-item"
                                   href="#">Another</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- PROGRESS BARS SECTION -->
        <section class="component-section border">
            <h3>Progress Bars</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <h5>Color Variants</h5>
                    <div class="d-flex flex-column gap-2">
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar"
                                 style="width: 25%"></div>
                        </div>
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar bg-success"
                                 style="width: 40%"></div>
                        </div>
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar bg-info"
                                 style="width: 50%"></div>
                        </div>
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar bg-warning"
                                 style="width: 65%"></div>
                        </div>
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar bg-danger"
                                 style="width: 80%"></div>
                        </div>
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar bg-secondary"
                                 style="width: 35%"></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h5>Striped &amp; Animated</h5>
                    <div class="d-flex flex-column gap-2">
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar progress-bar-striped"
                                 style="width: 30%"></div>
                        </div>
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar progress-bar-striped progress-bar-animated"
                                 style="width: 50%"></div>
                        </div>
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar progress-bar-striped bg-success"
                                 style="width: 40%"></div>
                        </div>
                        <div class="progress"
                             role="progressbar">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger"
                                 style="width: 70%"></div>
                        </div>
                    </div>

                    <h5 class="mt-3">Stacked</h5>
                    <div class="progress-stacked">
                        <div class="progress"
                             role="progressbar"
                             style="width: 15%">
                            <div class="progress-bar"></div>
                        </div>
                        <div class="progress"
                             role="progressbar"
                             style="width: 30%">
                            <div class="progress-bar bg-success"></div>
                        </div>
                        <div class="progress"
                             role="progressbar"
                             style="width: 20%">
                            <div class="progress-bar bg-info"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FORM FLOATING LABELS & VALIDATION SECTION -->
        <section class="component-section border">
            <h3>Form Floating Labels &amp; Validation</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <h5>Floating Labels</h5>
                    <div class="form-floating mb-3">
                        <input type="email"
                               class="form-control"
                               id="floatingInput"
                               placeholder="name@example.com">
                        <label for="floatingInput">Email address</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="password"
                               class="form-control"
                               id="floatingPassword"
                               placeholder="Password">
                        <label for="floatingPassword">Password</label>
                    </div>
                    <div class="form-floating mb-3">
                        <textarea class="form-control"
                                  placeholder="Leave a comment here"
                                  id="floatingTextarea"
                                  style="height: 80px"></textarea>
                        <label for="floatingTextarea">Comments</label>
                    </div>
                    <div class="form-floating">
                        <select class="form-select"
                                id="floatingSelect">
                            <option selected>Open this select menu</option>
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                        <label for="floatingSelect">Works with selects</label>
                    </div>
                </div>
                <div class="col-md-6">
                    <h5>Validation States</h5>
                    <form class="was-validated"
                          novalidate>
                        <div class="mb-3">
                            <label for="validInput"
                                   class="form-label">Valid input</label>
                            <input type="text"
                                   class="form-control is-valid"
                                   id="validInput"
                                   value="Correct value">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="mb-3">
                            <label for="invalidInput"
                                   class="form-label">Invalid input</label>
                            <input type="text"
                                   class="form-control is-invalid"
                                   id="invalidInput"
                                   value="">
                            <div class="invalid-feedback">Please provide a valid value.</div>
                        </div>
                        <div class="mb-3">
                            <label for="validSelect"
                                   class="form-label">Valid select</label>
                            <select class="form-select is-valid"
                                    id="validSelect">
                                <option selected>Valid option</option>
                            </select>
                            <div class="valid-feedback">Good choice!</div>
                        </div>
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input is-valid"
                                       type="checkbox"
                                       id="validCheck"
                                       checked>
                                <label class="form-check-label"
                                       for="validCheck">Valid checkbox</label>
                                <div class="valid-feedback">Checked!</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input is-invalid"
                                       type="checkbox"
                                       id="invalidCheck">
                                <label class="form-check-label"
                                       for="invalidCheck">Invalid checkbox</label>
                                <div class="invalid-feedback">Must accept terms.</div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- SPINNERS SECTION -->
        <section class="component-section border">
            <h3>Spinners</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <h5>Border Spinners</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <div class="spinner-border text-primary"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-border text-secondary"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-border text-success"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-border text-danger"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-border text-warning"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-border text-info"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-border text-light"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-border text-dark"
                             role="status"
                             aria-label="Loading"></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h5>Growing Spinners</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <div class="spinner-grow text-primary"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-grow text-secondary"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-grow text-success"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-grow text-danger"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-grow text-warning"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-grow text-info"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-grow text-light"
                             role="status"
                             aria-label="Loading"></div>
                        <div class="spinner-grow text-dark"
                             role="status"
                             aria-label="Loading"></div>
                    </div>
                </div>
            </div>
            <div class="mt-3">
                <h5>Spinner Sizes</h5>
                <div class="d-flex gap-2 align-items-center">
                    <div class="spinner-border spinner-border-sm text-primary"
                         role="status"></div>
                    <div class="spinner-grow spinner-grow-sm text-primary"
                         role="status"></div>
                    <button class="btn btn-primary"
                            disabled>
                        <span class="spinner-border spinner-border-sm"
                              role="status"></span> Loading...
                    </button>
                </div>
            </div>
        </section>

        <!-- TOOLTIPS & POPOVERS SECTION -->
        <section class="component-section border">
            <h3>Tooltips &amp; Popovers</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <h5>Tooltips</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <button type="button"
                                class="btn btn-secondary"
                                data-bs-toggle="tooltip"
                                data-bs-placement="top"
                                title="Tooltip on top">Top</button>
                        <button type="button"
                                class="btn btn-secondary"
                                data-bs-toggle="tooltip"
                                data-bs-placement="right"
                                title="Tooltip on right">Right</button>
                        <button type="button"
                                class="btn btn-secondary"
                                data-bs-toggle="tooltip"
                                data-bs-placement="bottom"
                                title="Tooltip on bottom">Bottom</button>
                        <button type="button"
                                class="btn btn-secondary"
                                data-bs-toggle="tooltip"
                                data-bs-placement="left"
                                title="Tooltip on left">Left</button>
                    </div>
                </div>
                <div class="col-md-6">
                    <h5>Popovers</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <button type="button"
                                class="btn btn-lg btn-danger"
                                data-bs-toggle="popover"
                                data-bs-title="Popover Title"
                                data-bs-content="This is popover content. It tests the popover header, body, and arrow styling.">Click to toggle
                            popover</button>
                        <button type="button"
                                class="btn btn-secondary"
                                data-bs-toggle="popover"
                                data-bs-trigger="hover focus"
                                data-bs-title="Hover Popover"
                                data-bs-content="Dismissible popover on hover.">Hover popover</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- PLACEHOLDERS SECTION -->
        <section class="component-section border">
            <h3>Placeholders (Loading Skeletons)</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-6"></span>
                            </h5>
                            <p class="card-text placeholder-glow">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-6"></span>
                                <span class="placeholder col-8"></span>
                            </p>
                            <a class="btn btn-primary disabled placeholder col-6"
                               aria-disabled="true"></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h5>Placeholder Sizes &amp; Colors</h5>
                    <p>
                        <span class="placeholder col-12 placeholder-lg"></span>
                        <span class="placeholder col-12"></span>
                        <span class="placeholder col-12 placeholder-sm"></span>
                        <span class="placeholder col-12 placeholder-xs"></span>
                    </p>
                    <p>
                        <span class="placeholder col-12 bg-primary"></span>
                        <span class="placeholder col-12 bg-secondary"></span>
                        <span class="placeholder col-12 bg-success"></span>
                        <span class="placeholder col-12 bg-danger"></span>
                        <span class="placeholder col-12 bg-warning"></span>
                        <span class="placeholder col-12 bg-info"></span>
                        <span class="placeholder col-12 bg-light"></span>
                        <span class="placeholder col-12 bg-dark"></span>
                    </p>
                    <h5>Wave Animation</h5>
                    <p class="placeholder-wave">
                        <span class="placeholder col-12"></span>
                    </p>
                </div>
            </div>
        </section>

        <!-- TYPOGRAPHY SECTION -->
        <section class="component-section border">
            <h3>Typography</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <h5>Display Headings</h5>
                    <h1 class="display-4">Display 4</h1>
                    <h2 class="display-5">Display 5</h2>
                    <h3 class="display-6">Display 6</h3>

                    <h5 class="mt-3">Lead &amp; Body Text</h5>
                    <p class="lead">This is a lead paragraph. It stands out from regular paragraphs.</p>
                    <p>Regular body text for comparison. <strong>Bold text</strong>, <em>italic text</em>, and <u>underlined text</u>.</p>
                </div>
                <div class="col-md-6">
                    <h5>Inline Text Elements</h5>
                    <p>Use <code>&lt;code&gt;</code> for inline code: <code>const x = 42;</code></p>
                    <p>Use <kbd>kbd</kbd> for keyboard input: <kbd>Ctrl</kbd> + <kbd>S</kbd></p>
                    <p>Use <mark>mark</mark> for highlighted text.</p>
                    <p><abbr title="HyperText Markup Language">HTML</abbr> abbreviation with dotted underline.</p>
                    <p><small>Small text for fine print or disclaimers.</small></p>
                    <p><del>Deleted text</del> and <ins>inserted text</ins>.</p>

                    <h5 class="mt-3">Blockquote</h5>
                    <figure>
                        <blockquote class="blockquote">
                            <p>A well-known quote, contained in a blockquote element.</p>
                        </blockquote>
                        <figcaption class="blockquote-footer text-body">
                            Someone famous in <cite title="Source Title">Source Title</cite>
                        </figcaption>
                    </figure>

                    <h5>Pre-formatted Code</h5>
                    <pre><code>function greet(name) {
    return `Hello, ${name}!`;
}</code></pre>
                </div>
            </div>
        </section>

        <!-- COLORED LINKS SECTION -->
        <section class="component-section border">
            <h3>Colored Links</h3>
            <div class="d-flex flex-wrap gap-3">
                <a href="#"
                   class="link-primary">Primary link</a>
                <a href="#"
                   class="link-secondary">Secondary link</a>
                <a href="#"
                   class="link-success">Success link</a>
                <a href="#"
                   class="link-danger">Danger link</a>
                <a href="#"
                   class="link-warning">Warning link</a>
                <a href="#"
                   class="link-info">Info link</a>
                <a href="#"
                   class="link-body-emphasis">Body emphasis link</a>
            </div>
            <div class="d-flex flex-wrap gap-3 mt-2">
                <span class="p-2 bg-dark rounded">
                    <a href="#"
                       class="link-light">Light link</a>
                </span>
                <span class="p-2 bg-light rounded">
                    <a href="#"
                       class="link-dark">Dark link</a>
                </span>
            </div>
            <h5 class="mt-3">Link Utilities</h5>
            <div class="d-flex flex-wrap gap-3">
                <a href="#"
                   class="link-opacity-100">100% opacity</a>
                <a href="#"
                   class="link-opacity-75">75% opacity</a>
                <a href="#"
                   class="link-offset-2 link-underline link-underline-opacity-25">Underline offset</a>
            </div>
        </section>

        <!-- CLOSE BUTTON SECTION -->
        <section class="component-section border">
            <h3>Close Button</h3>
            <div class="d-flex flex-wrap gap-4 align-items-center">
                <div>
                    <h5>Default</h5>
                    <button type="button"
                            class="btn-close"
                            aria-label="Close"></button>
                </div>
                <div>
                    <h5>Disabled</h5>
                    <button type="button"
                            class="btn-close"
                            disabled
                            aria-label="Close"></button>
                </div>
                <div class="p-3 bg-dark rounded">
                    <h5 class="text-white">Dark BG</h5>
                    <button type="button"
                            class="btn-close btn-close-white"
                            aria-label="Close"></button>
                </div>
                <div class="p-3 bg-dark rounded">
                    <h5 class="text-white">Disabled Dark</h5>
                    <button type="button"
                            class="btn-close btn-close-white"
                            disabled
                            aria-label="Close"></button>
                </div>
            </div>
        </section>

        <!-- CAROUSEL SECTION -->
        <section class="component-section border">
            <h3>Carousel</h3>
            <div id="demoCarousel"
                 class="carousel slide"
                 data-bs-ride="false">
                <div class="carousel-indicators">
                    <button type="button"
                            data-bs-target="#demoCarousel"
                            data-bs-slide-to="0"
                            class="active"></button>
                    <button type="button"
                            data-bs-target="#demoCarousel"
                            data-bs-slide-to="1"></button>
                    <button type="button"
                            data-bs-target="#demoCarousel"
                            data-bs-slide-to="2"></button>
                </div>
                <div class="carousel-inner rounded">
                    <div class="carousel-item active">
                        <div class="bg-primary"
                             style="height: 200px;"></div>
                    </div>
                    <div class="carousel-item">
                        <div class="bg-success"
                             style="height: 200px;"></div>
                    </div>
                    <div class="carousel-item">
                        <div class="bg-danger"
                             style="height: 200px;"></div>
                    </div>
                </div>
                <button class="carousel-control-prev"
                        type="button"
                        data-bs-target="#demoCarousel"
                        data-bs-slide="prev"
                        aria-label="Previous">
                    <span class="carousel-control-prev-icon"
                          aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next"
                        type="button"
                        data-bs-target="#demoCarousel"
                        data-bs-slide="next"
                        aria-label="Next">
                    <span class="carousel-control-next-icon"
                          aria-hidden="true"></span>
                </button>
            </div>
        </section>

        <!-- IMAGE & FIGURE SECTION -->
        <section class="component-section border">
            <h3>Image &amp; Figure</h3>
            <div class="row g-3">
                <div class="col-md-4">
                    <h5>Image Thumbnail</h5>
                    <div class="img-thumbnail bg-body-secondary"
                         style="width: 200px; height: 150px;"></div>
                </div>
                <div class="col-md-4">
                    <h5>Rounded Image</h5>
                    <div class="rounded bg-body-tertiary"
                         style="width: 200px; height: 150px;"></div>
                </div>
                <div class="col-md-4">
                    <h5>Figure</h5>
                    <figure class="figure">
                        <div class="figure-img img-fluid rounded bg-body-secondary"
                             style="width: 200px; height: 150px;"></div>
                        <figcaption class="figure-caption text-body">A caption for the above image.</figcaption>
                    </figure>
                </div>
            </div>
        </section>
    </div>

    <script>
        const themeStylesheet = document.getElementById('themeStylesheet');
        const themeSelect = document.getElementById('themeSelect');
        const themeTitle = document.getElementById('themeTitle');
        const themeToggle = document.getElementById('themeToggle');
        const opacityRange = document.getElementById('opacityRange');
        const blurRange = document.getElementById('blurRange');

        // Background image mapping
        const backgrounds = {
            'herbst': { light: 'img/herbst.jpg', dark: 'img/herbst.jpg' },
            'krokus': { light: 'img/bg-krokus.jpg', dark: 'img/bg-krokus.jpg' },
            'sommer': { light: 'img/sommer.jpg', dark: 'img/sommer.jpg' },
            'lego': { light: 'img/bg-lego-lightblue.png', dark: 'img/bg-lego-darkblue.png' },
            'alien': { light: 'img/bg-alien-day.jpg', dark: 'img/bg-alien-night.jpg' },
            'loewe': { light: 'img/loewe.jpg', dark: 'img/loewe.jpg' },
            'wave': { light: 'img/wave.jpg', dark: 'img/wave.jpg' },
            'urania': { light: 'img/bg-urania.jpg', dark: 'img/bg-urania.jpg' }
        };

        function updateTheme() {
            const theme = themeSelect.value;
            themeStylesheet.href = `bs/${theme}-theme.css`;
            themeTitle.innerText = theme.charAt(0).toUpperCase() + theme.slice(1) + " Theme";

            const isDark = document.documentElement.getAttribute('data-bs-theme') === 'dark';
            const bgConfig = backgrounds[theme];
            const bgPath = isDark ? bgConfig.dark : bgConfig.light;

            // Update body background
            document.body.style.setProperty('--bg-image', `url('${bgPath}')`);

            // Set styles dynamically for the pseudo-element background
            let style = document.getElementById('dynamic-bg-style');
            if (!style) {
                style = document.createElement('style');
                style.id = 'dynamic-bg-style';
                document.head.appendChild(style);
            }

            const hasDedicatedDark = bgConfig.light !== bgConfig.dark;
            const blendMode = (isDark && !hasDedicatedDark) ? 'multiply' : 'normal';
            const bgColor = (isDark && !hasDedicatedDark) ? '#555' : 'transparent';

            style.innerHTML = `
                body::before {
                    background-image: url('${bgPath}');
                    background-blend-mode: ${blendMode};
                    background-color: ${bgColor};
                }
            `;
        }

        function setMode(mode) {
            document.documentElement.setAttribute('data-bs-theme', mode);
            themeToggle.innerText = mode === 'light' ? 'Toggle Dark Mode' : 'Toggle Light Mode';
        }

        // Restore saved preferences from localStorage
        const savedTheme = localStorage.getItem('ct-theme');
        const savedMode = localStorage.getItem('ct-mode');

        if (savedTheme && backgrounds[savedTheme]) {
            themeSelect.value = savedTheme;
        }
        if (savedMode === 'light' || savedMode === 'dark') {
            setMode(savedMode);
        }

        themeSelect.onchange = () => {
            localStorage.setItem('ct-theme', themeSelect.value);
            updateTheme();
        };

        themeToggle.onclick = () => {
            const current = document.documentElement.getAttribute('data-bs-theme');
            const next = current === 'light' ? 'dark' : 'light';
            setMode(next);
            localStorage.setItem('ct-mode', next);
            updateTheme();
        };

        opacityRange.oninput = (e) => {
            document.documentElement.style.setProperty('--CTBS-GlassOpacity', e.target.value);
        };

        blurRange.oninput = (e) => {
            document.documentElement.style.setProperty('--CTBS-GlassBlur', e.target.value + 'px');
        };

        // Initialize
        updateTheme();

        // Initialize all tooltips
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el));

        // Initialize all popovers
        const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
        [...popoverTriggerList].map(el => new bootstrap.Popover(el));
    </script>
</body>

</html>
